<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Content Example - SAGIT</title>
    <link rel="stylesheet" href="/assets/style/modern.css">
    <link rel="stylesheet" href="/assets/style/dynamic-content.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <header class="main-header">
        <div class="logo">
            <img src="/assets/images/bg.png" alt="SAGIT Logo">
            <span class="logo-text">SAGIT</span>
        </div>
        <nav class="nav-menu">
            <a href="index.html" class="nav-link" data-i18n="navigation.home">მთავარი</a>
            <a href="about.html" class="nav-link" data-i18n="navigation.about">ჩვენს შესახებ</a>
            <a href="programs.html" class="nav-link" data-i18n="navigation.programs">პროგრამები</a>
            <a href="admissions.html" class="nav-link" data-i18n="navigation.admissions">მიღება</a>
            <a href="contact.html" class="nav-link" data-i18n="navigation.contact">კონტაქტი</a>
        </nav>
        <div class="social-icons">
            <button id="lang-toggle" class="lang-toggle" data-i18n="buttons.switchLang">English</button>
        </div>
    </header>

    <main class="main-content">
        <!-- Team Section -->
        <section class="section">
            <div class="container">
                <h2 data-i18n="team.title">ჩვენი გუნდი</h2>
                <p class="text-center" data-i18n="team.subtitle">გაიცანით საღუნი-ის ლიდერები და აკადემიური პერსონალი</p>
                
                <!-- Dynamic team cards will be generated here -->
                <div id="team-container" class="team-container">
                    <div class="loading">Loading team members...</div>
                </div>

                <!-- Admin controls (for demonstration) -->
                <div class="admin-controls" style="margin-top: 2rem; text-align: center;">
                    <button onclick="addExampleTeamMember()" class="btn">Add Team Member</button>
                    <button onclick="removeTeamMember(1)" class="btn btn-outline">Remove First Member</button>
                </div>
            </div>
        </section>

        <!-- Programs Section -->
        <section class="section" style="background: #f8fafc;">
            <div class="container">
                <h2 data-i18n="programs.title">აკადემიური პროგრამები</h2>
                <p class="text-center" data-i18n="programs.subtitle">აღმოაჩინეთ ჩვენი ინოვაციური სასწავლო პროგრამები</p>
                
                <!-- Dynamic program cards will be generated here -->
                <div id="programs-container" class="programs-container">
                    <div class="loading">Loading programs...</div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="section">
            <div class="container">
                <h2 data-i18n="contact.title">დაგვიკავშირდით</h2>
                <p class="text-center" data-i18n="contact.subtitle">ჩვენ ყოველთვის მზად ვართ თქვენი კითხვების პასუხისთვის</p>
                
                <!-- Dynamic contact info will be generated here -->
                <div id="contact-info-container" class="contact-info-container">
                    <div class="loading">Loading contact information...</div>
                </div>
            </div>
        </section>

        <!-- Social Media Section -->
        <section class="section" style="background: #f8fafc;">
            <div class="container">
                <h2 data-i18n="social.title">სოციალური ქსელები</h2>
                <p class="text-center" data-i18n="social.subtitle">მიყევით ჩვენს სიახლეებს სოციალურ მედიაში</p>
                
                <!-- Dynamic social links will be generated here -->
                <div id="social-links-container" class="social-links-container">
                    <div class="loading">Loading social media links...</div>
                </div>

                <!-- Admin controls (for demonstration) -->
                <div class="admin-controls" style="margin-top: 2rem; text-align: center;">
                    <button onclick="addExampleSocialLink()" class="btn">Add Social Link</button>
                </div>
            </div>
        </section>

        <!-- Search Section -->
        <section class="section">
            <div class="container">
                <h2>Search Content</h2>
                <div style="max-width: 600px; margin: 0 auto;">
                    <div class="search-box" style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                        <input type="text" id="search-input" placeholder="Search team, programs, or social..." 
                               style="flex: 1; padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px;">
                        <button onclick="performSearch()" class="btn">Search</button>
                    </div>
                    <div id="search-results" style="display: none;">
                        <h3>Search Results:</h3>
                        <div id="search-results-content"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="/assets/js/language.js"></script>
    <script src="/assets/js/dynamic-content.js"></script>
    
    <script>
        // Example functions for demonstration
        function addExampleTeamMember() {
            const newMember = {
                ge: {
                    name: "მარიამ ხაბურძანია",
                    position: "IT მენეჯერი", 
                    bio: "ტექნოლოგიების მენეჯმენტის სპეციალისტი, 8 წლიანი გამოცდილება",
                    image: "/assets/images/team/default.jpg",
                    email: "m.khaburdzania@sagit.edu.ge",
                    expertise: ["IT მენეჯმენტი", "პროექტების კოორდინაცია", "სისტემური ადმინისტრირება"]
                },
                en: {
                    name: "Mariam Khaburdzania",
                    position: "IT Manager",
                    bio: "Technology management specialist with 8 years of experience",
                    image: "/assets/images/team/default.jpg", 
                    email: "m.khaburdzania@sagit.edu.ge",
                    expertise: ["IT Management", "Project Coordination", "System Administration"]
                }
            };
            
            if (window.dynamicContent) {
                window.dynamicContent.addTeamMember(newMember);
                alert('New team member added!');
            }
        }

        function removeTeamMember(memberId) {
            if (window.dynamicContent) {
                window.dynamicContent.removeTeamMember(memberId);
                alert('Team member removed!');
            }
        }

        function addExampleSocialLink() {
            const newSocial = {
                ge: {
                    name: "Discord",
                    url: "https://discord.gg/sagit",
                    icon: "fab fa-discord",
                    color: "#7289da",
                    followers: "850",
                    description: "სტუდენტური საზოგადოება და ონლაინ ურთიერთობა"
                },
                en: {
                    name: "Discord", 
                    url: "https://discord.gg/sagit",
                    icon: "fab fa-discord",
                    color: "#7289da",
                    followers: "850",
                    description: "Student community and online interaction"
                }
            };
            
            if (window.dynamicContent) {
                window.dynamicContent.addSocialLink(newSocial);
                alert('New social link added!');
            }
        }

        function performSearch() {
            const query = document.getElementById('search-input').value.trim();
            if (!query) return;

            if (window.dynamicContent) {
                const results = window.dynamicContent.searchContent(query);
                displaySearchResults(results, query);
            }
        }

        function displaySearchResults(results, query) {
            const resultsContainer = document.getElementById('search-results');
            const resultsContent = document.getElementById('search-results-content');
            
            let html = '';
            let totalResults = 0;

            // Display team results
            if (results.team.length > 0) {
                html += `<h4>Team Members (${results.team.length})</h4><ul>`;
                results.team.forEach(member => {
                    html += `<li><strong>${member.name}</strong> - ${member.position}</li>`;
                });
                html += '</ul>';
                totalResults += results.team.length;
            }

            // Display program results
            if (results.programs.length > 0) {
                html += `<h4>Programs (${results.programs.length})</h4><ul>`;
                results.programs.forEach(program => {
                    html += `<li><strong>${program.name}</strong> (${program.category}) - ${program.degree}</li>`;
                });
                html += '</ul>';
                totalResults += results.programs.length;
            }

            // Display social results
            if (results.social.length > 0) {
                html += `<h4>Social Media (${results.social.length})</h4><ul>`;
                results.social.forEach(social => {
                    html += `<li><strong>${social.name}</strong> - ${social.description}</li>`;
                });
                html += '</ul>';
                totalResults += results.social.length;
            }

            if (totalResults === 0) {
                html = `<p>No results found for "${query}"</p>`;
            }

            resultsContent.innerHTML = html;
            resultsContainer.style.display = 'block';
        }

        // Add search on Enter key
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    </script>
</body>
</html>